// Generated by CoffeeScript 1.9.1
(function() {
  var E, React, add, hyphenate, is_plainish_object, ref,
    slice = [].slice;

  React = (ref = this.React) != null ? ref : require("react");

  is_plainish_object = function(o) {
    return (o != null) && typeof o === "object" && !(o instanceof Array || React.isValidElement(o));
  };

  add = function(from, arg) {
    var i, k, len, results, results1, thing, to, v;
    to = arg.to;
    if (from instanceof Array) {
      results = [];
      for (i = 0, len = from.length; i < len; i++) {
        thing = from[i];
        results.push(add(thing, {
          to: to
        }));
      }
      return results;
    } else if (is_plainish_object(from)) {
      results1 = [];
      for (k in from) {
        v = from[k];
        if (v) {
          results1.push(to.push(hyphenate(k)));
        }
      }
      return results1;
    } else if (from != null) {
      return to.push(from);
    }
  };

  hyphenate = function(v) {
    return ("" + v).replace(/_/g, "-").replace(/([a-z])([A-Z])/g, function(m, az, AZ) {
      return az + "-" + (AZ.toLowerCase());
    });
  };

  E = function() {
    var addAttr, args, aria_k, aria_v, attrArgs, attr_k, attr_v, childArgs, classNames, data_k, data_v, elementType, finalAttrs, finalChildren, selAttrs, selector, unhandled;
    elementType = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
    if (elementType == null) {
      elementType = "";
    }
    if (is_plainish_object(args[0])) {
      attrArgs = args[0], childArgs = 2 <= args.length ? slice.call(args, 1) : [];
    } else {
      childArgs = 1 <= args.length ? slice.call(args, 0) : [];
      attrArgs = null;
    }
    switch (typeof elementType) {
      case "string":
        selector = elementType;
        elementType = "div";
        selAttrs = selector.replace(/^[a-z][a-z0-9\-_]*/i, function(match) {
          elementType = match;
          return "";
        });
        finalAttrs = {};
        classNames = [];
        addAttr = function(attr_k, attr_v, aria) {
          if (!(attr_v === false && !aria)) {
            return finalAttrs[attr_k] = attr_v;
          }
        };
        for (attr_k in attrArgs) {
          attr_v = attrArgs[attr_k];
          if (attr_k === "class" || attr_k === "className" || attr_k === "classes" || attr_k === "classNames" || attr_k === "classList") {
            add(attr_v, {
              to: classNames
            });
          } else if (attr_k === "data") {
            for (data_k in attr_v) {
              data_v = attr_v[data_k];
              addAttr("data-" + (hyphenate(data_k)), data_v);
            }
          } else if (attr_k === "aria") {
            for (aria_k in attr_v) {
              aria_v = attr_v[aria_k];
              addAttr("aria-" + (hyphenate(aria_k)), aria_v, true);
            }
          } else if (attr_k.match(/^data/)) {
            addAttr(hyphenate(attr_k), attr_v);
          } else if (attr_k.match(/^aria/)) {
            addAttr(hyphenate(attr_k), attr_v, true);
          } else {
            addAttr(attr_k, attr_v);
          }
        }
        if (selAttrs) {
          unhandled = selAttrs.replace(/\.([a-z][a-z0-9\-_]*)/gi, function(m, className) {
            classNames.push(className);
            return "";
          }).replace(/#([a-z][a-z0-9\-_]*)/gi, function(m, id) {
            finalAttrs.id = id;
            return "";
          });
        }
        if (unhandled) {
          throw new Error("Unhandled selector fragment '" + unhandled + "' in selector: '" + selector + "'");
        }
        if (classNames.length) {
          finalAttrs.className = classNames.join(" ");
        }
        break;
      case "function":
        finalAttrs = attrArgs;
        break;
      default:
        throw new Error("Invalid first argument to ReactScript: " + elementType);
    }
    finalChildren = [];
    add(childArgs, {
      to: finalChildren
    });
    return React.createElement(elementType, finalAttrs, finalChildren);
  };

  if ((typeof module !== "undefined" && module !== null ? module.exports : void 0) != null) {
    module.exports = E;
  } else {
    this.ReactScript = E;
  }

}).call(this);
